title: 谈谈Python中的list和C语言中的数组
tags: Python
date: 2018-03-01
toc: true

---

> 晚上看书时，书中说到C语言中的数组，联想到Python是由C编写的，那么Python中的list和C语言中的数组有什么不同呢？

<!--more-->

### 空间效率
**C语言中**，创建数组时，首先需要指定数组的容量大小，根据大小来分配内存，也就是说，即使要在数组中存储一个元素，也需要为所有的元素预先的分配内存。故，C语言中数组的空间效率不高。
**Python中**，列表list属于其的一个高级特性，是对源码中对象(PyListObject）的一个抽象，而因为不同的list存储元素的个数不同，故这里的PyListObject再创立之初就被设置为变长对象。并且，该对象中内置了像插入、删除等方法，可以在运行时动态的调整维护的内存和元素。

### 长度
**C语言中**，除了动态数组以外，数组都是不可变的。
**Python中**，对象中封装了插入、删除等方法，所以List是可变的。

### 数据类型
**C语言中**，数组中的元素只能是同一种类型，在数组初始化时已经确定。
**Python中**，数组中的元素可以是不同的类型。那么为什么呢？
 Python中一切皆对象，**赵先生说**，就其底层实现而言，我们可以根据继承抽象理解为：

 1. 底层实现中存在一个基类base，该类中封装指针。
 2. 列表对象继承于基类base，相应的Python中的其它数据类型也继承基类base。
 3. 在列表对象中存在多个元素，这些元素也分别继承自base，而这些元素中指向base的指针可以指向任何继承自base的对象，所以，数组中的元素可以是不同的类型。
 
如此想来，也算是豁然开朗。


